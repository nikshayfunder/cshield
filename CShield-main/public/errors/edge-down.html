<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CShield • Origin offline</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@keyframes floatUp{0%{transform:translateY(6px);opacity:.0}100%{transform:translateY(0);opacity:1}}
.animate-float{animation:floatUp .5s ease-out both}
.card{backdrop-filter:blur(6px)}
</style>
</head>
<body class="min-h-screen bg-neutral-950 text-neutral-100 selection:bg-violet-600/30 selection:text-neutral-50">
<div class="border-b border-neutral-900/80 bg-neutral-950/60">
  <div class="mx-auto max-w-7xl px-4 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="h-8 w-8 rounded-lg bg-gradient-to-br from-violet-500 to-fuchsia-600 shadow-lg shadow-violet-800/20"></div>
      <div class="leading-tight">
        <div class="font-semibold -mb-0.5">CShield</div>
        <div class="text-[11px] text-neutral-400">Edge Security</div>
      </div>
    </div>
    <div class="text-xs text-neutral-400 inline-flex items-center gap-2">
      <span id="edgeLoc" class="rounded-md bg-neutral-900 px-2 py-1">CShield Edge</span>
      <span class="rounded-md bg-emerald-900/60 text-emerald-300 px-2 py-1">Edge: online</span>
      <span class="rounded-md bg-rose-900/60 text-rose-300 px-2 py-1">Origin: offline</span>
    </div>
  </div>
</div>
<main class="mx-auto max-w-7xl px-4 py-10 animate-float">
  <h1 class="text-3xl font-semibold mb-2">Origin server is offline</h1>
  <p class="text-neutral-300 mb-8">
    The website behind this CShield edge cannot be reached. The edge node is online, but the configured origin server or proxy for this site is currently unavailable.
  </p>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-10">
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-5 card">
      <div class="text-sm text-neutral-400 mb-2">You</div>
      <div class="flex items-center justify-between">
        <div class="font-medium">Browser</div>
        <div class="inline-flex items-center gap-2 text-emerald-400 text-sm">
          <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
          Working
        </div>
      </div>
    </div>
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-5 card">
      <div class="text-sm text-neutral-400 mb-2"><span id="edgeLoc2">CShield Edge</span></div>
      <div class="flex items-center justify-between">
        <div class="font-medium">CShield edge node</div>
        <div class="inline-flex items-center gap-2 text-emerald-400 text-sm">
          <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
          Online
        </div>
      </div>
    </div>
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-5 card">
      <div class="text-sm text-neutral-400 mb-2">Host</div>
      <div class="flex items-center justify-between">
        <div class="font-medium">Origin website</div>
        <div class="inline-flex items-center gap-2 text-rose-400 text-sm">
          <span class="h-2 w-2 rounded-full bg-rose-500"></span>
          Down or unreachable
        </div>
      </div>
    </div>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-6 card">
      <h2 class="font-medium mb-2">What happened?</h2>
      <p class="text-neutral-300 text-sm">
        CShield attempted to contact the configured origin server or proxy for this site and did not receive a valid response. This can happen when the origin process is stopped, the upstream is misconfigured, or the network path to the origin is broken.
      </p>
    </div>
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-6 card">
      <h2 class="font-medium mb-2">If you are a visitor</h2>
      <ul class="list-disc list-inside text-neutral-300 text-sm space-y-1">
        <li>Retry this page in a few minutes</li>
        <li>Contact the site owner if the issue persists</li>
      </ul>
    </div>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-6 card">
      <h2 class="font-medium mb-2">If you operate this site</h2>
      <ul class="list-disc list-inside text-neutral-300 text-sm space-y-1">
        <li>Verify that your origin or proxy process is running</li>
        <li>Check that your origin is reachable from the CShield node (IP, port, firewall)</li>
        <li>Confirm that the proxy configuration in CShield points to the correct upstream</li>
      </ul>
    </div>
    <div class="rounded-xl border border-neutral-900 bg-neutral-900/50 p-6 card">
      <h2 class="font-medium mb-2">More details</h2>
      <p class="text-neutral-300 text-sm">
        This page is served by CShield when it cannot reach the origin. The edge node remains online and continues to protect and terminate connections, but it cannot forward traffic until the origin is restored.
      </p>
    </div>
  </div>
  <div class="mt-10 text-xs text-neutral-500">
    Request ID: <span id="rid"></span> • <span id="edgeLoc3">CShield Edge</span>
  </div>
</main>
<script>
(function(){
  function rid(){
    var a=crypto.getRandomValues(new Uint8Array(8));
    var out=[];
    for(var i=0;i<a.length;i++){out.push(a[i].toString(16).padStart(2,"0"))}
    return out.join("");
  }
  var ridEl=document.getElementById("rid");
  if(ridEl) ridEl.textContent=rid();
  fetch("/v1/api/edge/info").then(function(r){return r.json()}).then(function(e){
    var loc="";
    if(e.region){loc=e.region}
    if(e.city){loc=loc?(loc+" / "+e.city):e.city}
    if(!loc && e.country){loc=e.country}
    if(!loc && e.asn){loc=e.asn}
    if(!loc){loc="CShield Edge"}
    var h=document.getElementById("edgeLoc"); if(h) h.textContent="CShield Edge • "+loc;
    var h2=document.getElementById("edgeLoc2"); if(h2) h2.textContent="CShield Edge • "+loc;
    var f=document.getElementById("edgeLoc3"); if(f) f.textContent="Edge node: "+loc+" • Origin offline";
  }).catch(function(){});
})();
</script>
</body>
</html>